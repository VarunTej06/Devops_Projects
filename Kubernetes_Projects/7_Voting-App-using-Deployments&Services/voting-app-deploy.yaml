# can refer to pod definition files that we wrote before for the same app. Can copy some sections also.
# This is the deployment file - Just like an upgrade to the Pod definition file. 

apiVersion: apps/v1
kind: Deployment
metadata:
  name: voting-app-deploy
  labels:
    name: voting-app-deploy
    app: demo-voting-app
spec:
  replicas: 1
  selector:
    matchLabels:                  # These labels should match with labels inside template of pod in this file.
      name: voting-app-pod
      app: demo-voting-app
  template:
# Copy paste whole metadata and spec section from pod definition file.    
    metadata:
      name: voting-app-pod          # Name of the Pod.
      labels: 
        name: voting-app-pod        # Label for the Pod.
        app: demo-voting-app        # Name of the application we are keeping this same in all pod, service and deployment yaml files.
    spec:
      containers:
        - name: voting-app          # Name of the container
          image: kodekloud/examplevotingapp_vote:v1
          ports:
            - containerPort: 80